/**
 * ì„œìˆ í˜• ì‘ë‹µ ë¶„ì„ í”„ë¡¬í”„íŠ¸ ì„¤ì •
 *
 * ì´ íŒŒì¼ì—ì„œ í”„ë¡¬í”„íŠ¸ë¥¼ ìˆ˜ì •í•˜ë©´ ìë™ìœ¼ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤.
 * (Vite ê°œë°œ ì„œë²„ ì‹¤í–‰ ì¤‘ì—ëŠ” Hot Reloadë¡œ ì¦‰ì‹œ ë°˜ì˜)
 */

// ============================================
// ì„¤ë¬¸ ë°°ê²½ ì„¤ëª…
// ============================================
export const SURVEY_BACKGROUND = `
ì´ ì„¤ë¬¸ì€ ê¸°ëŠ¥ ì¡°ì§ì—ì„œ ìŠ¤ì¿¼ë“œ ì²´ì œë¡œ ì „í™˜í•œ ì§€ 3ê°œì›”ì´ ëœ ë‹¤ì§êµ° í˜¼ì„± íŒ€(ì „ëµ, ê¸°íš, AI ì—”ì§€ë‹ˆì–´, FE, BE ë“± ì•½ 10ëª…)ì˜
4ë¶„ê¸° íšŒê³ ë¥¼ ìœ„í•´ ì‹¤ì‹œë˜ì—ˆìŠµë‹ˆë‹¤. ìŠ¤ì¿¼ë“œ ì²´ì œ ì „í™˜ì˜ ë§Œì¡±ë„, ê°œì„ ì , ë°©í–¥ì„±ì„ ì ê²€í•˜ê³  íŒ€ì˜ ê±´ê°• ìƒíƒœë¥¼ ì§„ë‹¨í•˜ì—¬
ë” ë‚˜ì€ í˜‘ì—… í™˜ê²½ì„ ë§Œë“¤ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤. ì‘ë‹µì€ ìµëª…ìœ¼ë¡œ ìˆ˜ì§‘ë˜ì—ˆìœ¼ë©°,
ë³¸ ë¶„ì„ì€ íŒ€ ì „ì²´ì˜ ê°œì„ ì„ ìœ„í•œ ê°ê´€ì ì¸ ì¸ì‚¬ì´íŠ¸ ë„ì¶œì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.
`.trim();

// ============================================
// ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (AI ì—­í•  ì •ì˜)
// ============================================
export const SYSTEM_PROMPT = `
ë‹¹ì‹ ì€ ì¡°ì§ ë¬¸í™”ì™€ íŒ€ ë‹¤ì´ë‚˜ë¯¹ìŠ¤ ì „ë¬¸ ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤.
ì„¤ë¬¸ ì‘ë‹µì„ ë¶„ì„í•˜ì—¬ íŒ€ ê°œì„ ì— ë„ì›€ì´ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
í•­ìƒ ì¤‘ë¦½ì ì´ê³  ê±´ì„¤ì ì¸ í†¤ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.
`.trim();

// ============================================
// ë¶„ì„ ê²°ê³¼ ì¶œë ¥ í˜•ì‹
// ============================================
export const OUTPUT_FORMAT = `
### ğŸ“‹ 5ì¤„ ìš”ì•½
(í•µì‹¬ ì¸ì‚¬ì´íŠ¸ë¥¼ ë¶ˆë ›í¬ì¸íŠ¸ 5ê°œë¡œ ìš”ì•½í•˜ê³  ì´ë¥¼ ë²ˆí˜¸ë¡œ ë‚˜ì—´)

### ğŸ“Š ì‘ë‹µ ìœ í˜• ë¶„ë¥˜
(ì‘ë‹µë“¤ì„ ìœ ì‚¬í•œ ì£¼ì œ/ì˜ê²¬ë³„ë¡œ ë¶„ë¥˜í•˜ê³  ê° ìœ í˜•ì˜ ë¹ˆë„ í‘œì‹œ)

### ğŸ” ìƒì„¸ ë¶„ì„
(ì£¼ìš” íŒ¨í„´, ê³µí†µì , íŠ¹ì´ì  ë“± ì¤‘ë¦½ì ì´ê³  ì—„ë°€í•œ ë¶„ì„)

### ğŸ’¡ Recommendations
(íŒ€ì— ì œì•ˆí•˜ëŠ” ì‚¬í•­ ë° êµ¬ì²´ì ì¸ ì•¡ì…˜ ì•„ì´í…œ ê°ê° ë¶ˆë ›í¬ì¸íŠ¸ë¡œ 3-5ê°œ)
`.trim();

// ============================================
// ë¶„ì„ ì‹œ ì£¼ì˜ì‚¬í•­
// ============================================
export const ANALYSIS_GUIDELINES = `
ë¶„ì„ ì‹œ ì£¼ì˜ì‚¬í•­:
- ë§¤ìš° ì¤‘ë¦½ì ì´ê³  ê°ê´€ì ì´ê³ , ì†”ì§í•œ ë¶„ì„ ìì„¸ ëŠ˜ ê²¬ì§€
- ì¤‘ë¦½ì ì´ê³  ê°ê´€ì ì¸ í†¤ ìœ ì§€
- ì‘ë‹µì ê°œì¸ì„ íŠ¹ì •í•˜ê±°ë‚˜ ë¹„ë‚œí•˜ì§€ ì•ŠìŒ
- ê±´ì„¤ì ì¸ ê°œì„  ë°©í–¥ ì œì‹œ
- í•œêµ­ì–´ë¡œ ì‘ì„±
`.trim();

// ============================================
// ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ ìƒì„± í•¨ìˆ˜
// ============================================
/**
 * ë¶„ì„ìš© ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ ìƒì„±
 * @param {Object} question - ì§ˆë¬¸ ê°ì²´ (id, section, title, question, reason)
 * @param {Array} responses - ì‘ë‹µ ë°°ì—´ (ë¬¸ìì—´ ë°°ì—´)
 * @returns {string} ì™„ì„±ëœ í”„ë¡¬í”„íŠ¸
 */
export function buildUserPrompt(question, responses) {
  const responsesText = responses
    .map((r, i) => `ì‘ë‹µ ${i + 1}: ${r}`)
    .join('\n');

  return `
## ì„¤ë¬¸ ë°°ê²½
${SURVEY_BACKGROUND}

## ë¬¸í•­ ì •ë³´
- ì„¹ì…˜: ${question.section}
- ì§ˆë¬¸ ì œëª©: ${question.title}
- ì§ˆë¬¸ ë‚´ìš©: ${question.question}
- ì§ˆë¬¸ì˜ í•„ìš”ì„±: ${question.reason}

## ìˆ˜ì§‘ëœ ì‘ë‹µ (ì´ ${responses.length}ê°œ)
${responsesText}

## ë¶„ì„ ìš”ì²­
ìœ„ ì„œìˆ í˜• ì‘ë‹µë“¤ì„ ë¶„ì„í•˜ì—¬ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”:

${OUTPUT_FORMAT}

${ANALYSIS_GUIDELINES}
`.trim();
}

// ============================================
// ëª¨ë¸ ì„¤ì •
// ============================================
export const MODEL_CONFIG = {
  model: "gpt-5.1", // GPT-5.1 (2025-11-13 ì¶œì‹œ)
  reasoning: {
    effort: "high" // none, low, medium, high
  },
  max_output_tokens: 32000,
  text: {
    format: { type: "text" },
    verbosity: "medium" // low, medium, high
  }
};
